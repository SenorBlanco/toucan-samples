<html>
<body>
<img src="images/toucan-logo-and-name.svg" width=64 height=64>
<p>
<h2>Toucan Samples</h2>

The Toucan Samples are a set of samples demonstrating the use of the
experimental <a href="https://github.com/google/toucan/">Toucan</a> language.
</p>

<p>
These samples run in Google Chrome and require WebGPU and WebAssembly JavaScript Promise Integration (JSPI).
</p>

<p>
WebGPU is enabled by default on most platforms in Chrome. To enable it on Linux, start chrome with the command-line flag --enable-unsafe-webgpu.
</p>

<p>
To enable JSPI in Chrome, navigate to chrome://flags and enable "Experimental WebAssembly JavaScript Promise Integration (JSPI)". Alternatively, start chrome with the command-line flag --enable-features=WebAssemblyExperimentalJSPI.
</p>

<table border=1 style="border-collapse: collapse;">
<tr style="text-align: left;">
<th>Demo</th>
<th>Source</th>
<th>Description</th>
</tk>
<tr>
<col style="background-color: lightgray;">
<td><a href="triangle.html">triangle.html</a></td>
<td><a href="triangle.t">triangle.t</a></td>
<td>The canonical "Hello, Triange" example, now in green.</td>
</tr>
<tr>
<td><a href="shiny.html">shiny.html</a></td>
<td><a href="shiny.t">shiny.t</a></td>
<td>An environment-mapped teapot in a skybox of the same texture.</td>
</tr>
<tr>
<td><a href="springy.html">springy.html</a></td>
<td><a href="springy.t">springy.t</a></td>
<td>A particle physics demo, with a 10x10 grid of particles connected by springs.</td>
</tr>
<tr>
<td><a href="springy-compute.html">springy-compute.html</a></td>
<td><a href="springy-compute.t">springy-compute.t</a></td>
<td>The same particle physics demo, running in a GPU compute shader.</td>
</tr>
<tr>
<td><a href="springy-3d.html">springy-3d.html</a></td>
<td><a href="springy-3d.t">springy-3d.t</a></td>
<td>A particle physics demo, with a 20x20x20 mesh of particles.</td>
</tr>
<tr>
<td><a href="springy-compute-3d.html">springy-compute-3d.html</a></td>
<td><a href="springy-compute-3d.t">springy-compute-3d.t</a></td>
<td>Same as above, running in a compute shader.</td>
</tr>
</table>

<h2>Why does Toucan use JSPI?</h2>
<p>Toucan uses JSPI to make certain operations appear synchronous to the developer, so that the Web version of a Toucan application mimics the behaviour of the native version of the same app. In this way, the Toucan API resembles the simple, synchronous windowing and graphics APIs that graphics developers would likely be familiar with.

The operations are:
<ul>
<li> Event handling (mouse and keyboard events). <code>System.GetNextEvent()</code> blocks until a new event is received.
<li> Swapping the frontbuffer and backbuffer. <code>Swapchain.Present()</code> may block until a new frame is available.
<li> Buffer mapping. <code>Buffer.MapRead()</code>, <code>Buffer.MapWrite()</code>, and <code>Buffer.MapReadWrite()</code> may block until the graphics driver has made the buffer available for access.
</ul>
</body>
</html>
